<div mat-dialog-title class="body">
  <p>Battle</p>
  <p>Player {{currentPlayerTurn()}}'s' Turn</p>
</div>
<mat-dialog-content class="mat-typography">
  <div class="cardzone">
    <div class="player1">
      <p>
        Mugic
        <br>
        {{attacker.mugic_counter}}
      </p>
    </div>
    <div class="player1">
      <p>
        Attacker
        <br>
        {{attacker.name}}
        <br>
        HP : {{attacker.hp}}
      </p>
      <img class="card-image" [src]="attacker.picture">
      <p>
        @for (stat of object2Array(attacker.stats); track stat.key) {
        | {{stat.key}} : {{stat.value}} |
        }
      </p>
      <p>
        @for (element of object2Array(attacker.elements); track element.key) {
        | {{element.key}} : {{element.value ? 'o' : 'x'}} |
        }
      </p>
      @for (ability of object2Array(attacker.abilities); track ability.key) {
        <button mat-button (click)="useAbility(ability.value, attacker)" [disabled]="attacker.player == currentPlayerTurn() ? false : true">
        {{ability.key}}
        </button>
      } 
    </div>
    <div class="player2">
      <p>
        Defender
        <br>
        {{defender.name}}
        <br>
        HP : {{defender.hp}}
      </p>
      <img class="card-image" [src]="defender.picture">
      <p>
        @for (stat of object2Array(defender.stats); track stat.key) {
        | {{stat.key}} : {{stat.value}} |
        }
      </p>
      <p>
        @for (element of object2Array(defender.elements); track element.key) {
        | {{element.key}} : {{element.value ? 'o' : 'x'}} |
        }
      </p>
      @for (ability of object2Array(defender.abilities); track ability.key) {
        <button mat-button (click)="useAbility(ability.value, defender)" [disabled]="defender.player == currentPlayerTurn() ? false : true">
        {{ability.key}}
        </button>
      } 
    </div>
    <div class="player2">
      <p>
        Mugic
        <br>
        {{defender.mugic_counter}}
      </p>
    </div>
  </div>
</mat-dialog-content>
<mat-dialog-actions align="center" class="actions">
  <div class="hand hand-list" cdkDropList
    [cdkDropListData]="hand"
    cdkDropListOrientation="horizontal"
    >
      @for (card of hand; track card; let i = $index) {
        <mat-card class="hand-box">
          <img mat-card-image class="card-image" [src]="card.picture"  
          >
        </mat-card>
      }
    </div>
</mat-dialog-actions>
